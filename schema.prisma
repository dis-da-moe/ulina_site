datasource db {
  provider = "sqlite"
  url      = "file:./data/Ulina.db"
}

generator client {
  provider = "prisma-client-js"
}

model Continent {
  name        String   @id
  description String?
  Nation      Nation[]
}

model Flag {
  flagId   Int    @id @default(autoincrement())
  flagPath String
  nationId Int
  nation   Nation @relation(fields: [nationId], references: [nationId])
}

model NationChange {
  changeId  Int      @id @default(autoincrement())
  nationId  Int
  type      String
  oldValue  String
  newValue  String
  timeStamp DateTime
  admin     Boolean
  nation    Nation   @relation(fields: [nationId], references: [nationId])
}

model Nation {
  nationId      Int       @id @default(autoincrement())
  continentName String
  continent     Continent @relation(fields: [continentName], references: [name])
  name          String
  removed       Boolean   @default(false)
  ownerDiscord  String

  description   String?
  currentFlagId Int?

  nationChanges NationChange[]
  socials       Social[]
  flags         Flag[]
}

model Social {
  socialsId Int    @id @default(autoincrement())
  nationId  Int
  nation    Nation @relation(fields: [nationId], references: [nationId])
  link      String
  platform  String
}

model Map {
    mapId Int @id @default(autoincrement())
    fileName String
    date DateTime
}
